<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mood Shop</title>
    <link rel='stylesheet' href='./resources/css/styles.css'>
</head>
<body>
    <header class='page-header'>
        <h4>The Mood Shop</h4>
        <nav>
            <ul>
            <li><a href="#">Home</a></li>
            <li><a href="#">About</a></li>
            <li><a href="#">Cart</a></li>
            </ul>
        </nav>
    </header>
    <main class='items' id='items'>
        
    </main>
    <footer>
    </footer>
    <script>
        const cart = []

        function addItem(name, price) {
            for(let i = 0; i<cart.length; i+= 1) {
                if (cart[i].name === name) {
                    cart[i].qty += 1
                    return
                }
            }
            const item = {name, price, qty:1}
            cart.push(item)
        }

        // Show Items
        function showItems() {
            let quantity = getQty()
            let total = getTotal()
            for(let i = 0; i<cart.length; i+= 1) {
                console.log(`- ${ cart[i].name } $${ cart[i].price } x ${cart[i].qty}`)
            }

            console.log(`You have ${quantity} items in your cart`)
            console.log(`Total in cart: ${total}`)
        }

        // Get qty
        function getQty() {
            let qty = 0
            for(let i = 0; i<cart.length; i+= 1) {
                qty += cart[i].qty
            }
            return qty
        }

        // Get total
        function getTotal() {
            let total = 0
            for(let i = 0; i<cart.length; i+= 1) {
                total += cart[i].price * cart[i].qty
            }
            return total.toFixed(2)
        }

        function removeItem(name, qty = 0) {
            for (let i = 0; i<cart.length; i+=1) {
                if (cart[i].name === name) {
                    if (qty > 0) {
                        cart[i].qty -= 1
                    }
                    if (cart[i].qty < 1 || qty === 0){
                        cart.splice(i,1)
                    }
                    return
                }
            }
        }

        addItem("Orange", 0.99)
        addItem("Orange", 0.99)
        addItem("Orange", 0.99)
        addItem("Apple", 1.00)
        addItem("Banana", 1.50)
        //removeItem("Orange", 1)


        showItems()
    </script>
    <script src='./resources/js/scripts.js' type="module"></script>
</body>
</html>